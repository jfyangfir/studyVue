<!DOCTYPE html>
<!--跑马灯-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>hello vue</title>
</head>
<body>
<div id="app">
    <button @click="lang">播放</button>
    <button @click="stop">暂停</button>

    <h4>{{msg}}</h4>
</div>
<script src="../Util/vue/dist/vue.js"></script>
<script>
    var vm=new Vue({
        el:"#app",
        data:{
            msg:'加油，小王，你是最胖的',
            intervalId:null//在data上定义定时器ID
        },
        methods:{
            lang(){
                //获取到头的第一个字符
                //this
                if(this.intervalId!=null) return;
                this.intervalId=setInterval(()=>{
                    var start=this.msg.substring(0,1)
                    //获取后面所有的字符
                    var end=this.msg.substring(1)
                    //重新拼接得到新的字符串，并赋值给this.msg
                    this.msg=end+start
                },400)

                // 注意： VM实例，会监听自己身上 data 中所有数据的改变，只要数据一发生变化，
                // 就会自动把 最新的数据，从data上同步到页面中去；
                // 【好处：程序员只需要关心数据，不需要考虑如何重新渲染DOM页面】
            },
            stop(){
                //停止定时器
                clearInterval(this.intervalId)
                //每当清除了定时器之后，需要重新把intervalId置为null
                this.intervalId=null;
            }
        }
    })
</script>
</body>
</html>